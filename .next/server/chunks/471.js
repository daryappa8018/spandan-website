exports.id=471,exports.ids=[471],exports.modules={44900:(e,t,r)=>{Promise.resolve().then(r.bind(r,11115)),Promise.resolve().then(r.bind(r,26547)),Promise.resolve().then(r.bind(r,77847)),Promise.resolve().then(r.bind(r,92699))},26547:(e,t,r)=>{"use strict";r.d(t,{DeleteEventButton:()=>s});var n=r(10326),a=r(17577),o=r(35047);function s({eventId:e,eventTitle:t}){let[r,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),d=(0,o.useRouter)(),u=async()=>{l(!0);try{(await fetch(`/api/admin/events/${e}`,{method:"DELETE"})).ok?(d.push("/admin/events"),d.refresh()):alert("Failed to delete event")}catch(e){alert("An error occurred")}finally{l(!1),s(!1)}};return r?(0,n.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-xs text-slate-600",children:['Delete "',t,'"?']}),n.jsx("button",{onClick:u,disabled:i,className:"text-xs text-red-600 hover:underline disabled:opacity-50",children:i?"Deleting...":"Yes"}),n.jsx("button",{onClick:()=>s(!1),disabled:i,className:"text-xs text-slate-600 hover:underline",children:"No"})]}):n.jsx("button",{onClick:()=>s(!0),className:"text-sm text-red-600 hover:underline",children:"Delete"})}},77847:(e,t,r)=>{"use strict";r.d(t,{DeleteProjectButton:()=>s});var n=r(10326),a=r(17577),o=r(35047);function s({projectId:e,projectTitle:t}){let[r,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),d=(0,o.useRouter)(),u=async()=>{l(!0);try{(await fetch(`/api/admin/projects/${e}`,{method:"DELETE"})).ok?(d.push("/admin/projects"),d.refresh()):alert("Failed to delete project")}catch(e){alert("An error occurred")}finally{l(!1),s(!1)}};return r?(0,n.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-xs text-slate-600",children:['Delete "',t,'"?']}),n.jsx("button",{onClick:u,disabled:i,className:"text-xs text-red-600 hover:underline disabled:opacity-50",children:i?"Deleting...":"Yes"}),n.jsx("button",{onClick:()=>s(!1),disabled:i,className:"text-xs text-slate-600 hover:underline",children:"No"})]}):n.jsx("button",{onClick:()=>s(!0),className:"text-sm text-red-600 hover:underline",children:"Delete"})}},92699:(e,t,r)=>{"use strict";r.d(t,{DeleteTeamMemberButton:()=>s});var n=r(10326),a=r(17577),o=r(35047);function s({memberId:e,memberName:t}){let[r,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),d=(0,o.useRouter)(),u=async()=>{l(!0);try{(await fetch(`/api/admin/team/${e}`,{method:"DELETE"})).ok?d.refresh():alert("Failed to delete team member")}catch(e){alert("An error occurred")}finally{l(!1),s(!1)}};return r?(0,n.jsxs)("div",{className:"inline-flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-slate-600",children:"Delete?"}),n.jsx("button",{onClick:u,disabled:i,className:"text-xs text-red-600 hover:underline disabled:opacity-50",children:i?"Deleting...":"Yes"}),n.jsx("button",{onClick:()=>s(!1),disabled:i,className:"text-xs text-slate-600 hover:underline",children:"No"})]}):n.jsx("button",{onClick:()=>s(!0),className:"text-sm text-red-600 hover:underline",children:"Delete"})}},16471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\components\admin\AdminLayout.tsx#default`)},95269:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\components\admin\DeleteTeamMemberButton.tsx#DeleteTeamMemberButton`)},58714:(e,t,r)=>{"use strict";r.d(t,{NV:()=>s,RK:()=>i,fg:()=>a}),r(16471);var n=r(19510);function a({category:e}){return n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${{BLOOD_DONATION:"bg-red-100 text-red-800",VILLAGE_CAMP:"bg-green-100 text-green-800",HEALTH_CHECKUP:"bg-blue-100 text-blue-800",DONATION_DRIVE:"bg-purple-100 text-purple-800",SHORT_EVENT:"bg-slate-100 text-slate-800"}[e]||"bg-slate-100 text-slate-800"}`,children:{BLOOD_DONATION:"Blood Donation",VILLAGE_CAMP:"Village Camp",HEALTH_CHECKUP:"Health Checkup",DONATION_DRIVE:"Donation Drive",SHORT_EVENT:"Short Event"}[e]||e})}r(71159);var o=r(68570);let s=(0,o.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\components\admin\DeleteEventButton.tsx#DeleteEventButton`),i=(0,o.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\components\admin\DeleteProjectButton.tsx#DeleteProjectButton`);r(95269)},84427:(e,t,r)=>{"use strict";r.d(t,{mk:()=>i,mv:()=>d});var n=r(75571),a=r(90455),o=r(58585);async function s(){return await (0,n.getServerSession)(a.L)}async function i(){let e=await s();return e?.user||(0,o.redirect)("/admin/login"),e.user}async function l(e){let t=await i();return e.includes(t.role)||(0,o.redirect)("/admin"),t}async function d(){return await l(["ADMIN","EDITOR"])}r(42023)},90455:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var n=r(53797),a=r(7585),o=r(72331),s=r(42023),i=r.n(s);let l={adapter:(0,a.N)(o._),providers:[(0,n.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email and password required");let t=await o._.user.findUnique({where:{email:e.email}});if(!t||!await i().compare(e.password,t.password))throw Error("Invalid email or password");return await o._.user.update({where:{id:t.id},data:{lastLoginAt:new Date}}),{id:t.id,email:t.email,name:t.name,role:t.role}}})],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.role=t.role),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.role=t.role),e)},pages:{signIn:"/admin/login",error:"/admin/login"},session:{strategy:"jwt",maxAge:2592e3},secret:process.env.NEXTAUTH_SECRET}},72331:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(53524);let a=globalThis.prisma??(process.env.DATABASE_URL?new n.PrismaClient({log:["error"]}):null)},58585:(e,t,r)=>{"use strict";var n=r(61085);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return n.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(83953),a=r(16399);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return c},permanentRedirect:function(){return u},redirect:function(){return d}});let a=r(54580),o=r(72934),s=r(8586),i="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Error(i);n.digest=i+";"+t+";"+e+";"+r+";";let o=a.requestAsyncStorage.getStore();return o&&(n.mutableCookies=o.mutableCookies),n}function d(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,a]=e.digest.split(";",4),o=Number(a);return t===i&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(o)&&o in s.RedirectStatusCode}function p(e){return c(e)?e.digest.split(";",3)[2]:null}function f(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};