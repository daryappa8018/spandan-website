(()=>{var e={};e.id=28,e.ids=[28],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84629:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(72432),a(90596),a(11506),a(35866);var s=a(23191),r=a(88716),n=a(37922),l=a.n(n),o=a(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d=["",{children:["admin",{children:["events",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,72432)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\events\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\events\\new\\page.tsx"],p="/admin/events/new/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/events/new/page",pathname:"/admin/events/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75699:(e,t,a)=>{Promise.resolve().then(a.bind(a,59534))},59534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,dynamic:()=>i});var s=a(10326),r=a(17577),n=a(35047),l=a(50263),o=a(79252);let i="force-dynamic";function d(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)(!1),[i,d]=(0,r.useState)(""),[c,p]=(0,r.useState)({title:"",category:"",date:"",month:"",year:new Date().getFullYear(),summary:"",slug:"",published:!0}),[m,u]=(0,r.useState)([""]),[x,h]=(0,r.useState)(!1),[g,v]=(0,r.useState)({location:"",duration:"",context:"",goal:"",target:"",preparation:[""],process:[""],team:"",volunteers:"",impact:"",challenges:"",learnings:"",partners:[""],photosNote:"",dataNote:""}),[b,j]=(0,r.useState)([{key:"",value:""}]),y=e=>{let{name:t,value:a}=e.target;if(p(e=>({...e,[t]:a})),"title"===t){let e=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");p(t=>({...t,slug:e}))}},f=e=>{let{name:t,value:a}=e.target;v(e=>({...e,[t]:a}))},N=e=>{"metrics"===e?u([...m,""]):v(t=>({...t,[e]:[...t[e],""]}))},C=(e,t,a)=>{if("metrics"===e){let e=[...m];e[t]=a,u(e)}else v(s=>{let r=[...s[e]];return r[t]=a,{...s,[e]:r}})},P=(e,t)=>{"metrics"===e?u(m.filter((e,a)=>a!==t)):v(a=>({...a,[e]:a[e].filter((e,a)=>a!==t)}))},k=(e,t,a)=>{let s=[...b];s[e][t]=a,j(s)},w=e=>{j(b.filter((t,a)=>a!==e))},D=async t=>{t.preventDefault(),a(!0),d("");try{let t={...c,metrics:m.filter(e=>e.trim()),details:x?{...g,preparation:g.preparation.filter(e=>e.trim()),process:g.process.filter(e=>e.trim()),partners:g.partners.filter(e=>e.trim()),outcomeMetrics:b.filter(e=>e.key&&e.value).reduce((e,t)=>({...e,[t.key]:t.value}),{})}:null},a=await fetch("/api/admin/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create event")}e.push("/admin/events"),e.refresh()}catch(e){d(e.message),a(!1)}};return s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"max-w-4xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold text-slate-900 mb-2",children:"Create New Event"}),s.jsx("p",{className:"text-slate-600",children:"Add a new event to the website."})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-6",children:i}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.W,{label:"Event Title",name:"title",value:c.title,onChange:y,required:!0,placeholder:"e.g., Blood Donation Camp - Campus"}),s.jsx(o.W,{label:"Category",name:"category",type:"select",value:c.category,onChange:y,required:!0,options:[{value:"BLOOD_DONATION",label:"Blood Donation Camp"},{value:"VILLAGE_CAMP",label:"Village Camp"},{value:"HEALTH_CHECKUP",label:"Health Checkup Camp"},{value:"DONATION_DRIVE",label:"Donation Drive"},{value:"SHORT_EVENT",label:"Short Event"}]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(o.W,{label:"Date (display)",name:"date",value:c.date,onChange:y,required:!0,placeholder:"e.g., November 2024"}),s.jsx(o.W,{label:"Month (short)",name:"month",value:c.month,onChange:y,required:!0,placeholder:"e.g., Nov"}),s.jsx(o.W,{label:"Year",name:"year",type:"number",value:c.year,onChange:y,required:!0})]}),s.jsx(o.W,{label:"Summary",name:"summary",type:"textarea",value:c.summary,onChange:y,required:!0,rows:3,placeholder:"Brief description for event listing..."}),s.jsx(o.W,{label:"URL Slug",name:"slug",value:c.slug,onChange:y,required:!0,helpText:"Auto-generated from title. Used in URL: /events/your-slug"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"published",checked:c.published,onChange:e=>p({...c,published:e.target.checked}),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"published",className:"text-sm text-slate-700",children:"Publish immediately"})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Metrics (Quick Stats)"}),(0,s.jsxs)("div",{className:"space-y-2",children:[m.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("metrics",t,e.target.value),placeholder:"e.g., 82 donors",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),m.length>1&&s.jsx("button",{type:"button",onClick:()=>P("metrics",t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},t)),s.jsx("button",{type:"button",onClick:()=>N("metrics"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Metric"})]})]}),(0,s.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{type:"checkbox",id:"hasDetails",checked:x,onChange:e=>h(e.target.checked),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"hasDetails",className:"text-base font-semibold text-slate-900",children:"Add Detailed Documentation (Optional)"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Include full event details: objectives, execution, outcomes, partners, etc."})]}),x&&(0,s.jsxs)("div",{className:"space-y-6 border-t border-slate-200 pt-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detailed Documentation"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(o.W,{label:"Location",name:"location",value:g.location,onChange:f,placeholder:"e.g., College Campus, Main Auditorium"}),s.jsx(o.W,{label:"Duration",name:"duration",value:g.duration,onChange:f,placeholder:"e.g., 9:00 AM - 4:00 PM"})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Objective"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.W,{label:"Context",name:"context",type:"textarea",value:g.context,onChange:f,rows:3}),s.jsx(o.W,{label:"Goal",name:"goal",type:"textarea",value:g.goal,onChange:f,rows:2}),s.jsx(o.W,{label:"Target",name:"target",value:g.target,onChange:f})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Execution - Preparation Steps"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.preparation.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("preparation",t,e.target.value),placeholder:"Preparation step...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.preparation.length>1&&s.jsx("button",{type:"button",onClick:()=>P("preparation",t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},t)),s.jsx("button",{type:"button",onClick:()=>N("preparation"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Step"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Execution - Process"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.process.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("process",t,e.target.value),placeholder:"Process step...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.process.length>1&&s.jsx("button",{type:"button",onClick:()=>P("process",t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},t)),s.jsx("button",{type:"button",onClick:()=>N("process"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Step"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(o.W,{label:"Team",name:"team",value:g.team,onChange:f,placeholder:"e.g., 12 Spandan members + 8 medical staff"}),s.jsx(o.W,{label:"Volunteers",name:"volunteers",value:g.volunteers,onChange:f,placeholder:"e.g., 12 student volunteers"})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Outcome Metrics"}),(0,s.jsxs)("div",{className:"space-y-2",children:[b.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e.key,onChange:e=>k(t,"key",e.target.value),placeholder:"Key (e.g., registrations)",className:"w-1/3 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),s.jsx("input",{type:"text",value:e.value,onChange:e=>k(t,"value",e.target.value),placeholder:"Value (e.g., 94)",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),b.length>1&&s.jsx("button",{type:"button",onClick:()=>w(t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},t)),s.jsx("button",{type:"button",onClick:()=>{j([...b,{key:"",value:""}])},className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Metric"})]})]}),s.jsx(o.W,{label:"Impact",name:"impact",type:"textarea",value:g.impact,onChange:f,rows:3}),s.jsx(o.W,{label:"Challenges",name:"challenges",type:"textarea",value:g.challenges,onChange:f,rows:2}),s.jsx(o.W,{label:"Learnings",name:"learnings",type:"textarea",value:g.learnings,onChange:f,rows:2}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Partner Organizations"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.partners.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("partners",t,e.target.value),placeholder:"Partner organization name...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.partners.length>1&&s.jsx("button",{type:"button",onClick:()=>P("partners",t),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},t)),s.jsx("button",{type:"button",onClick:()=>N("partners"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Partner"})]})]}),s.jsx(o.W,{label:"Photos Note",name:"photosNote",type:"textarea",value:g.photosNote,onChange:f,rows:2,placeholder:"e.g., Event photographs available with donor consent"}),s.jsx(o.W,{label:"Data Note",name:"dataNote",type:"textarea",value:g.dataNote,onChange:f,rows:2,placeholder:"e.g., Donor database maintained confidentially"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-slate-200",children:[s.jsx("button",{onClick:D,disabled:t,className:"bg-[#3d3e65] text-white px-6 py-3 rounded-lg font-medium hover:bg-slate-700 transition-colors disabled:opacity-50",children:t?"Creating...":"Create Event"}),s.jsx("a",{href:"/admin/events",className:"px-6 py-3 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})})]})})}},72432:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,dynamic:()=>r});var s=a(68570);let r=(0,s.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\app\admin\events\new\page.tsx#dynamic`),n=(0,s.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\app\admin\events\new\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,757,109,49],()=>a(84629));module.exports=s})();