(()=>{var e={};e.id=28,e.ids=[28],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84629:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(72432),t(90596),t(11506),t(19644),t(96560);var s=t(23191),r=t(88716),n=t(37922),l=t.n(n),o=t(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(a,i);let d=["",{children:["admin",{children:["events",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72432)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\events\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,90596)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,19644)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\not-found.tsx"]}],c=["C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\events\\new\\page.tsx"],p="/admin/events/new/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/events/new/page",pathname:"/admin/events/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75699:(e,a,t)=>{Promise.resolve().then(t.bind(t,59534))},59534:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d,dynamic:()=>i});var s=t(10326),r=t(17577),n=t(35047),l=t(11115),o=t(49664);let i="force-dynamic";function d(){let e=(0,n.useRouter)(),[a,t]=(0,r.useState)(!1),[i,d]=(0,r.useState)(""),[c,p]=(0,r.useState)({title:"",category:"",date:"",month:"",year:new Date().getFullYear(),summary:"",slug:"",published:!0}),[u,m]=(0,r.useState)([""]),[x,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)({location:"",duration:"",context:"",goal:"",target:"",preparation:[""],process:[""],team:"",volunteers:"",impact:"",challenges:"",learnings:"",partners:[""],photosNote:"",dataNote:""}),[v,j]=(0,r.useState)([{key:"",value:""}]),y=e=>{let{name:a,value:t}=e.target;if(p(e=>({...e,[a]:t})),"title"===a){let e=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");p(a=>({...a,slug:e}))}},f=e=>{let{name:a,value:t}=e.target;b(e=>({...e,[a]:t}))},N=e=>{"metrics"===e?m([...u,""]):b(a=>({...a,[e]:[...a[e],""]}))},C=(e,a,t)=>{if("metrics"===e){let e=[...u];e[a]=t,m(e)}else b(s=>{let r=[...s[e]];return r[a]=t,{...s,[e]:r}})},P=(e,a)=>{"metrics"===e?m(u.filter((e,t)=>t!==a)):b(t=>({...t,[e]:t[e].filter((e,t)=>t!==a)}))},k=(e,a,t)=>{let s=[...v];s[e][a]=t,j(s)},w=e=>{j(v.filter((a,t)=>t!==e))},D=async a=>{a.preventDefault(),t(!0),d("");try{let a={...c,metrics:u.filter(e=>e.trim()),details:x?{...g,preparation:g.preparation.filter(e=>e.trim()),process:g.process.filter(e=>e.trim()),partners:g.partners.filter(e=>e.trim()),outcomeMetrics:v.filter(e=>e.key&&e.value).reduce((e,a)=>({...e,[a.key]:a.value}),{})}:null},t=await fetch("/api/admin/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create event")}e.push("/admin/events"),e.refresh()}catch(e){d(e.message),t(!1)}};return s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"max-w-4xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold text-slate-900 mb-2",children:"Create New Event"}),s.jsx("p",{className:"text-slate-600",children:"Add a new event to the website."})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-6",children:i}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.W,{label:"Event Title",name:"title",value:c.title,onChange:y,required:!0,placeholder:"e.g., Blood Donation Camp - Campus"}),s.jsx(o.W,{label:"Category",name:"category",type:"select",value:c.category,onChange:y,required:!0,options:[{value:"BLOOD_DONATION",label:"Blood Donation Camp"},{value:"VILLAGE_CAMP",label:"Village Camp"},{value:"HEALTH_CHECKUP",label:"Health Checkup Camp"},{value:"DONATION_DRIVE",label:"Donation Drive"},{value:"SHORT_EVENT",label:"Short Event"}]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(o.W,{label:"Date (display)",name:"date",value:c.date,onChange:y,required:!0,placeholder:"e.g., November 2024"}),s.jsx(o.W,{label:"Month (short)",name:"month",value:c.month,onChange:y,required:!0,placeholder:"e.g., Nov"}),s.jsx(o.W,{label:"Year",name:"year",type:"number",value:c.year,onChange:y,required:!0})]}),s.jsx(o.W,{label:"Summary",name:"summary",type:"textarea",value:c.summary,onChange:y,required:!0,rows:3,placeholder:"Brief description for event listing..."}),s.jsx(o.W,{label:"URL Slug",name:"slug",value:c.slug,onChange:y,required:!0,helpText:"Auto-generated from title. Used in URL: /events/your-slug"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"published",checked:c.published,onChange:e=>p({...c,published:e.target.checked}),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"published",className:"text-sm text-slate-700",children:"Publish immediately"})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Metrics (Quick Stats)"}),(0,s.jsxs)("div",{className:"space-y-2",children:[u.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("metrics",a,e.target.value),placeholder:"e.g., 82 donors",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),u.length>1&&s.jsx("button",{type:"button",onClick:()=>P("metrics",a),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},a)),s.jsx("button",{type:"button",onClick:()=>N("metrics"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Metric"})]})]}),(0,s.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{type:"checkbox",id:"hasDetails",checked:x,onChange:e=>h(e.target.checked),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"hasDetails",className:"text-base font-semibold text-slate-900",children:"Add Detailed Documentation (Optional)"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Include full event details: objectives, execution, outcomes, partners, etc."})]}),x&&(0,s.jsxs)("div",{className:"space-y-6 border-t border-slate-200 pt-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Detailed Documentation"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(o.W,{label:"Location",name:"location",value:g.location,onChange:f,placeholder:"e.g., College Campus, Main Auditorium"}),s.jsx(o.W,{label:"Duration",name:"duration",value:g.duration,onChange:f,placeholder:"e.g., 9:00 AM - 4:00 PM"})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Objective"}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.W,{label:"Context",name:"context",type:"textarea",value:g.context,onChange:f,rows:3}),s.jsx(o.W,{label:"Goal",name:"goal",type:"textarea",value:g.goal,onChange:f,rows:2}),s.jsx(o.W,{label:"Target",name:"target",value:g.target,onChange:f})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Execution - Preparation Steps"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.preparation.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("preparation",a,e.target.value),placeholder:"Preparation step...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.preparation.length>1&&s.jsx("button",{type:"button",onClick:()=>P("preparation",a),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},a)),s.jsx("button",{type:"button",onClick:()=>N("preparation"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Step"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Execution - Process"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.process.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("process",a,e.target.value),placeholder:"Process step...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.process.length>1&&s.jsx("button",{type:"button",onClick:()=>P("process",a),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},a)),s.jsx("button",{type:"button",onClick:()=>N("process"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Step"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(o.W,{label:"Team",name:"team",value:g.team,onChange:f,placeholder:"e.g., 12 Spandan members + 8 medical staff"}),s.jsx(o.W,{label:"Volunteers",name:"volunteers",value:g.volunteers,onChange:f,placeholder:"e.g., 12 student volunteers"})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Outcome Metrics"}),(0,s.jsxs)("div",{className:"space-y-2",children:[v.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e.key,onChange:e=>k(a,"key",e.target.value),placeholder:"Key (e.g., registrations)",className:"w-1/3 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),s.jsx("input",{type:"text",value:e.value,onChange:e=>k(a,"value",e.target.value),placeholder:"Value (e.g., 94)",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),v.length>1&&s.jsx("button",{type:"button",onClick:()=>w(a),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},a)),s.jsx("button",{type:"button",onClick:()=>{j([...v,{key:"",value:""}])},className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Metric"})]})]}),s.jsx(o.W,{label:"Impact",name:"impact",type:"textarea",value:g.impact,onChange:f,rows:3}),s.jsx(o.W,{label:"Challenges",name:"challenges",type:"textarea",value:g.challenges,onChange:f,rows:2}),s.jsx(o.W,{label:"Learnings",name:"learnings",type:"textarea",value:g.learnings,onChange:f,rows:2}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Partner Organizations"}),(0,s.jsxs)("div",{className:"space-y-2",children:[g.partners.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:e,onChange:e=>C("partners",a,e.target.value),placeholder:"Partner organization name...",className:"flex-1 px-4 py-2 border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3d3e65]"}),g.partners.length>1&&s.jsx("button",{type:"button",onClick:()=>P("partners",a),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded",children:"Remove"})]},a)),s.jsx("button",{type:"button",onClick:()=>N("partners"),className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Partner"})]})]}),s.jsx(o.W,{label:"Photos Note",name:"photosNote",type:"textarea",value:g.photosNote,onChange:f,rows:2,placeholder:"e.g., Event photographs available with donor consent"}),s.jsx(o.W,{label:"Data Note",name:"dataNote",type:"textarea",value:g.dataNote,onChange:f,rows:2,placeholder:"e.g., Donor database maintained confidentially"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-slate-200",children:[s.jsx("button",{onClick:D,disabled:a,className:"bg-[#3d3e65] text-white px-6 py-3 rounded-lg font-medium hover:bg-slate-700 transition-colors disabled:opacity-50",children:a?"Creating...":"Create Event"}),s.jsx("a",{href:"/admin/events",className:"px-6 py-3 border border-slate-300 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})})]})})}},49664:(e,a,t)=>{"use strict";t.d(a,{W:()=>r});var s=t(10326);function r({label:e,name:a,type:t="text",value:r,onChange:n,placeholder:l,helpText:o,required:i=!1,disabled:d=!1,rows:c=4,options:p}){let u="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#3d3e65] focus:border-transparent disabled:bg-slate-100 disabled:cursor-not-allowed";return(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-slate-700 mb-2",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"textarea"===t?s.jsx("textarea",{id:a,name:a,value:r,onChange:n,placeholder:l,required:i,disabled:d,rows:c,className:u}):"select"===t?(0,s.jsxs)("select",{id:a,name:a,value:r,onChange:n,required:i,disabled:d,className:u,children:[(0,s.jsxs)("option",{value:"",children:["Select ",e]}),p?.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]}):s.jsx("input",{id:a,name:a,type:t,value:r,onChange:n,placeholder:l,required:i,disabled:d,className:u}),o&&s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:o})]})}t(17577)},72432:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,dynamic:()=>r});var s=t(68570);let r=(0,s.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\app\admin\events\new\page.tsx#dynamic`),n=(0,s.createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\app\admin\events\new\page.tsx#default`)}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,955,109,557],()=>t(84629));module.exports=s})();