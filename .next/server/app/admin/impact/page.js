(()=>{var e={};e.id=588,e.ids=[588],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18265:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(72136),s(90596),s(11506),s(19644),s(96560);var t=s(23191),r=s(88716),l=s(37922),n=s.n(l),d=s(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(a,i);let o=["",{children:["admin",{children:["impact",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,72136)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\impact\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,90596)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,19644)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\not-found.tsx"]}],c=["C:\\Users\\Daryappa mane\\Desktop\\coding\\Projects\\Spandan\\app\\admin\\impact\\page.tsx"],p="/admin/impact/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/impact/page",pathname:"/admin/impact",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33604:(e,a,s)=>{Promise.resolve().then(s.bind(s,96235))},96235:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(10326),r=s(17577),l=s(11115),n=s(49664);function d(){let[e,a]=(0,r.useState)(!0),[s,d]=(0,r.useState)(!1),[i,o]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),[m,u]=(0,r.useState)({yearsActive:2,totalEvents:0,peopleReached:"0",volunteers:0}),[x,h]=(0,r.useState)([]),[b,v]=(0,r.useState)(null),g=e=>{let{name:a,value:s}=e.target;u(e=>({...e,[a]:"peopleReached"===a?s:parseInt(s)||0}))},y=(e,a,s)=>{h(t=>t.map(t=>t.year===e?{...t,[a]:parseInt(s)||0}:t))},j=async()=>{d(!0),p("");try{if(!(await fetch("/api/admin/impact/summary",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Failed to save summary");o("Summary saved!"),setTimeout(()=>o(""),2e3)}catch(e){p(e.message)}finally{d(!1)}},N=async e=>{d(!0),p("");try{if(!(await fetch("/api/admin/impact/years",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save year data");o(`${e.year} data saved!`),v(null),setTimeout(()=>o(""),2e3)}catch(e){p(e.message)}finally{d(!1)}};return e?t.jsx(l.default,{children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("p",{className:"text-slate-600",children:"Loading impact data..."})})}):t.jsx(l.default,{children:(0,t.jsxs)("div",{className:"max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-semibold text-slate-900 mb-2",children:"Impact Data Management"}),t.jsx("p",{className:"text-slate-600",children:"Manage overall summary and yearly impact statistics."})]}),i&&t.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded mb-6",children:i}),c&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-6",children:c}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Overall Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(n.W,{label:"Years Active",name:"yearsActive",type:"number",value:m.yearsActive,onChange:g}),t.jsx(n.W,{label:"Total Events",name:"totalEvents",type:"number",value:m.totalEvents,onChange:g}),t.jsx(n.W,{label:"People Reached",name:"peopleReached",value:m.peopleReached,onChange:g,placeholder:"e.g., 2,400+"}),t.jsx(n.W,{label:"Active Volunteers",name:"volunteers",type:"number",value:m.volunteers,onChange:g})]}),t.jsx("button",{onClick:j,disabled:s,className:"mt-4 bg-[#3d3e65] text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-slate-700 disabled:opacity-50",children:s?"Saving...":"Save Summary"})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Yearly Data"}),t.jsx("button",{onClick:()=>{let e=new Date().getFullYear();h([{year:e,bdCamps:0,bdDonors:0,bdUnits:0,bdHospitals:0,vcCamps:0,vcVillages:0,vcParticipants:0,vcReferrals:0,hcCamps:0,hcScreenings:0,hcReferrals:0,ddDrives:0,ddItems:0,ddFamilies:0,seEvents:0,seParticipants:0},...x]),v(e)},className:"text-sm text-[#3d3e65] hover:underline",children:"+ Add Year"})]}),t.jsx("div",{className:"space-y-6",children:x.map(e=>(0,t.jsxs)("div",{className:"border border-slate-200 rounded-lg p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.year}),t.jsx("button",{onClick:()=>v(b===e.year?null:e.year),className:"text-sm text-[#3d3e65] hover:underline",children:b===e.year?"Collapse":"Edit"})]}),b===e.year?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Blood Donation Camps"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("input",{type:"number",value:e.bdCamps,onChange:a=>y(e.year,"bdCamps",a.target.value),placeholder:"Camps",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.bdDonors,onChange:a=>y(e.year,"bdDonors",a.target.value),placeholder:"Donors",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.bdUnits,onChange:a=>y(e.year,"bdUnits",a.target.value),placeholder:"Units",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.bdHospitals,onChange:a=>y(e.year,"bdHospitals",a.target.value),placeholder:"Hospitals",className:"px-3 py-2 border border-slate-300 rounded text-sm"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Village Camps"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("input",{type:"number",value:e.vcCamps,onChange:a=>y(e.year,"vcCamps",a.target.value),placeholder:"Camps",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.vcVillages,onChange:a=>y(e.year,"vcVillages",a.target.value),placeholder:"Villages",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.vcParticipants,onChange:a=>y(e.year,"vcParticipants",a.target.value),placeholder:"Participants",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.vcReferrals,onChange:a=>y(e.year,"vcReferrals",a.target.value),placeholder:"Referrals",className:"px-3 py-2 border border-slate-300 rounded text-sm"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Health Checkup Camps"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx("input",{type:"number",value:e.hcCamps,onChange:a=>y(e.year,"hcCamps",a.target.value),placeholder:"Camps",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.hcScreenings,onChange:a=>y(e.year,"hcScreenings",a.target.value),placeholder:"Screenings",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.hcReferrals,onChange:a=>y(e.year,"hcReferrals",a.target.value),placeholder:"Referrals",className:"px-3 py-2 border border-slate-300 rounded text-sm"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Donation Drives"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx("input",{type:"number",value:e.ddDrives,onChange:a=>y(e.year,"ddDrives",a.target.value),placeholder:"Drives",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.ddItems,onChange:a=>y(e.year,"ddItems",a.target.value),placeholder:"Items",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.ddFamilies,onChange:a=>y(e.year,"ddFamilies",a.target.value),placeholder:"Families",className:"px-3 py-2 border border-slate-300 rounded text-sm"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Short Events"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{type:"number",value:e.seEvents,onChange:a=>y(e.year,"seEvents",a.target.value),placeholder:"Events",className:"px-3 py-2 border border-slate-300 rounded text-sm"}),t.jsx("input",{type:"number",value:e.seParticipants,onChange:a=>y(e.year,"seParticipants",a.target.value),placeholder:"Participants",className:"px-3 py-2 border border-slate-300 rounded text-sm"})]})]}),t.jsx("button",{onClick:()=>N(e),disabled:s,className:"bg-[#3d3e65] text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-slate-700 disabled:opacity-50",children:s?"Saving...":`Save ${e.year}`})]}):(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-slate-500",children:"BD Camps"}),t.jsx("p",{className:"font-medium",children:e.bdCamps})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Village Camps"}),t.jsx("p",{className:"font-medium",children:e.vcCamps})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Health Camps"}),t.jsx("p",{className:"font-medium",children:e.hcCamps})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Donations"}),t.jsx("p",{className:"font-medium",children:e.ddDrives})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Short Events"}),t.jsx("p",{className:"font-medium",children:e.seEvents})]})]})]},e.year))})]})]})})}},49664:(e,a,s)=>{"use strict";s.d(a,{W:()=>r});var t=s(10326);function r({label:e,name:a,type:s="text",value:r,onChange:l,placeholder:n,helpText:d,required:i=!1,disabled:o=!1,rows:c=4,options:p}){let m="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#3d3e65] focus:border-transparent disabled:bg-slate-100 disabled:cursor-not-allowed";return(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-slate-700 mb-2",children:[e,i&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"textarea"===s?t.jsx("textarea",{id:a,name:a,value:r,onChange:l,placeholder:n,required:i,disabled:o,rows:c,className:m}):"select"===s?(0,t.jsxs)("select",{id:a,name:a,value:r,onChange:l,required:i,disabled:o,className:m,children:[(0,t.jsxs)("option",{value:"",children:["Select ",e]}),p?.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}):t.jsx("input",{id:a,name:a,type:s,value:r,onChange:l,placeholder:n,required:i,disabled:o,className:m}),d&&t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:d})]})}s(17577)},72136:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`C:\Users\Daryappa mane\Desktop\coding\Projects\Spandan\app\admin\impact\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[948,955,109,557],()=>s(18265));module.exports=t})();