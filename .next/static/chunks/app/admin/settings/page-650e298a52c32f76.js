(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{784:function(e,s,a){Promise.resolve().then(a.bind(a,8307))},8307:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var t=a(7437),n=a(2265),l=a(206),r=a(1788);function i(){let[e,s]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),[o,m]=(0,n.useState)(""),[h,u]=(0,n.useState)({site_email:"",site_phone:"",site_location:"",office_hours:"",instagram_handle:"",linkedin_url:"",founded_year:""});(0,n.useEffect)(()=>{s(!0),fetch("/api/admin/settings").then(e=>e.json()).then(e=>{u(e.reduce((e,s)=>(e[s.key]=s.value,e),{})),s(!1)}).catch(()=>{m("Failed to load settings"),s(!1)})},[]);let x=e=>{let{name:s,value:a}=e.target;u(e=>({...e,[s]:a}))},p=async e=>{e.preventDefault(),i(!0),m(""),c("");try{if(!(await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw Error("Failed to save settings");c("Settings saved successfully!"),setTimeout(()=>c(""),3e3)}catch(e){m(e.message)}finally{i(!1)}};return e?(0,t.jsx)(l.default,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{className:"text-slate-600",children:"Loading settings..."})})}):(0,t.jsx)(l.default,{children:(0,t.jsxs)("div",{className:"max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900 mb-2",children:"Site Settings"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Manage contact information, social media, and other site-wide settings."})]}),d&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded mb-6",children:d}),o&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-6",children:o}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Contact Information"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.W,{label:"Email Address",name:"site_email",type:"email",value:h.site_email,onChange:x,placeholder:"spandan@college.edu",helpText:"Main contact email for the organization"}),(0,t.jsx)(r.W,{label:"Phone Number",name:"site_phone",value:h.site_phone,onChange:x,placeholder:"+91 98765 43210",helpText:"Contact phone number"}),(0,t.jsx)(r.W,{label:"Location/Address",name:"site_location",type:"textarea",value:h.site_location,onChange:x,rows:3,placeholder:"Student Activities Office, Room 204, Main Building",helpText:"Full address or location details"}),(0,t.jsx)(r.W,{label:"Office Hours",name:"office_hours",value:h.office_hours,onChange:x,placeholder:"Monday - Friday: 2:00 PM - 5:00 PM",helpText:"When the office is available"})]})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Social Media"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.W,{label:"Instagram Handle",name:"instagram_handle",value:h.instagram_handle,onChange:x,placeholder:"@spandan_club",helpText:"Instagram username (include @ symbol)"}),(0,t.jsx)(r.W,{label:"LinkedIn URL",name:"linkedin_url",value:h.linkedin_url,onChange:x,placeholder:"https://linkedin.com/company/spandan",helpText:"Full LinkedIn company page URL"})]})]}),(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"General Information"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(r.W,{label:"Founded Year",name:"founded_year",value:h.founded_year,onChange:x,placeholder:"2023",helpText:"Year the organization was established"})})]}),(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Partner Organizations"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Manage institutional partners displayed on impact page"})]}),(0,t.jsx)("a",{href:"/admin/settings/partners",className:"text-sm text-[#3d3e65] hover:underline",children:"Manage Partners →"})]})}),(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsx)("button",{onClick:p,disabled:a,className:"bg-[#3d3e65] text-white px-8 py-3 rounded-lg font-medium hover:bg-slate-700 transition-colors disabled:opacity-50",children:a?"Saving...":"Save Settings"})})]}),(0,t.jsx)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-900",children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Note:"})," These settings are used throughout the public website. Changes take effect immediately after saving."]})})]})})}},206:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var t=a(7437),n=a(605),l=a(9376);function r(e){var s,a;let{children:r}=e,{data:i}=(0,n.useSession)(),d=(0,l.usePathname)(),c=e=>"/admin"===e?d===e:d.startsWith(e);return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,t.jsx)("div",{className:"bg-white border-b border-slate-200 fixed top-0 left-0 right-0 z-10",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("a",{href:"/",className:"flex items-center gap-2 hover:opacity-80",children:[(0,t.jsx)("span",{className:"text-lg font-semibold text-[#3d3e65]",children:"Spandan"}),(0,t.jsx)("span",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:"Admin"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900",children:null==i?void 0:null===(s=i.user)||void 0===s?void 0:s.name}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.role})]}),(0,t.jsx)("button",{onClick:()=>(0,n.signOut)({callbackUrl:"/"}),className:"text-sm text-slate-600 hover:text-slate-900 px-4 py-2 border border-slate-300 rounded hover:bg-slate-50 transition-colors",children:"Sign Out"})]})]})}),(0,t.jsxs)("div",{className:"flex pt-16",children:[(0,t.jsxs)("aside",{className:"w-64 bg-white border-r border-slate-200 fixed left-0 bottom-0 top-16 overflow-y-auto",children:[(0,t.jsx)("nav",{className:"p-4 space-y-1",children:[{name:"Dashboard",href:"/admin",icon:"\uD83D\uDCCA"},{name:"Events",href:"/admin/events",icon:"\uD83D\uDCC5"},{name:"Team",href:"/admin/team",icon:"\uD83D\uDC65"},{name:"Tech Projects",href:"/admin/projects",icon:"\uD83D\uDCBB"},{name:"Impact Data",href:"/admin/impact",icon:"\uD83D\uDCC8"},{name:"Settings",href:"/admin/settings",icon:"⚙️"}].map(e=>(0,t.jsxs)("a",{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ".concat(c(e.href)?"bg-[#3d3e65] text-white font-medium":"text-slate-700 hover:bg-slate-100"),children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.name})]},e.href))}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-200 mt-4",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-3",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("a",{href:"/admin/events/new",className:"block text-sm text-[#3d3e65] hover:underline",children:"+ New Event"}),(0,t.jsx)("a",{href:"/admin/team/new",className:"block text-sm text-[#3d3e65] hover:underline",children:"+ Add Team Member"}),(0,t.jsx)("a",{href:"/admin/projects/new",className:"block text-sm text-[#3d3e65] hover:underline",children:"+ New Project"})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-200",children:(0,t.jsxs)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 hover:text-[#3d3e65]",children:[(0,t.jsx)("span",{children:"\uD83C\uDF10"}),(0,t.jsx)("span",{children:"View Public Site"})]})})]}),(0,t.jsx)("main",{className:"flex-1 ml-64 p-8",children:r})]})]})}},1788:function(e,s,a){"use strict";a.d(s,{W:function(){return n}});var t=a(7437);function n(e){let{label:s,name:a,type:n="text",value:l,onChange:r,placeholder:i,helpText:d,required:c=!1,disabled:o=!1,rows:m=4,options:h}=e,u="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#3d3e65] focus:border-transparent disabled:bg-slate-100 disabled:cursor-not-allowed";return(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-slate-700 mb-2",children:[s,c&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"textarea"===n?(0,t.jsx)("textarea",{id:a,name:a,value:l,onChange:r,placeholder:i,required:c,disabled:o,rows:m,className:u}):"select"===n?(0,t.jsxs)("select",{id:a,name:a,value:l,onChange:r,required:c,disabled:o,className:u,children:[(0,t.jsxs)("option",{value:"",children:["Select ",s]}),null==h?void 0:h.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}):(0,t.jsx)("input",{id:a,name:a,type:n,value:l,onChange:r,placeholder:i,required:c,disabled:o,className:u}),d&&(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:d})]})}a(2265)},9376:function(e,s,a){"use strict";var t=a(5475);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[605,971,117,744],function(){return e(e.s=784)}),_N_E=e.O()}]);